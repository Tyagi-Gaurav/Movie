<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
        <link rel="stylesheet" href="/styles/main.css">
        <script>
            function postCheckbox(index) {
                const cb = document.querySelector('#flexCheckDefault-' + index);
                const lc = document.querySelector('#listCategory-' + index);
                $.post( "/checked", { "index": index, "checked": cb.checked, "listCategory": lc.value } );
            }

        </script>
    </head>
    <body style="background-color: CAEDFF;">
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav px-2">
                <li><a href="/" class="nav-link"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
                    <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"/>
                    <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                  </svg> Home</a></li>
                <li><a href="/work" class="nav-link"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16">
                <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/>
                </svg> Work</a></li>
              </ul>
            </div>
          </nav>
            <div class="row justify-content-md-center mt-4 mb-4">
                <div class="col-md-auto">
                    <h1 class="main-label"><%= dateToDisplay %></h1>
                </div>
            </div>
            <% if (locals.todoList) { %>
                <% todoList.forEach(element => { %>
                    <div class="form-check row box px-md-5">
                    <input class="form-check-input" type="checkbox" value="<%= element.index %>" id="flexCheckDefault-<%= element.index %>" <%= element.status %> onclick="postCheckbox(this.value)">
                    <input type="hidden" id="listCategory-<%= element.index %>" name="listCategory" value="<%= listCategory %>">
                    <label class="form-check-label todoItem" for="flexCheckDefault-<%= element.index %>">
                        <%= element.todo %>
                    </label>
                    </div>
                <% }); %>
            <% }%>
            <div class="row justify-content-md-center box align-items-end">
                <div class="col-12 col-sm-6 col-md-8">
                    <form id="form_id" action="/submit" method="POST" name="todo">
                        <input type="text" name = "todo" value="" placeholder="New Item">
                        <input type="hidden" id="listCategory" name="listCategory" value="<%= listCategory %>">
                    </form>
                </div>
                <div class="col-3 mt-1 mx-0">
                    <h1 class="plus" onclick="document.getElementById('form_id').submit();">+</h1>
                </div>
          </div>

          <!-- TODO create header -->
          <!-- TODO create footer -->
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    </body>
</html>